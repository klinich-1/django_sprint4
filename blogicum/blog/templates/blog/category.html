{% extends 'base.html' %}

{% block title %}Публикации в категории {{ category.title|default:category_slug }}{% endblock %}
{% block content %}
<div class="container py-5">
        <h1>Публикации в категории {{ category.title|default:category_slug }}</h1>
        {% comment %} Prefer paginator `page_obj` when present, otherwise use `posts` fallback. {% endcomment %}
        {% if page_obj and page_obj|length %}
            {% for post in page_obj %}
                <hr>
                <article>
                    {% include 'includes/post_card.html' %}
                </article>
            {% endfor %}
            {% include 'includes/paginator.html' %}
        {% elif posts %}
            {% for post in posts %}
                <hr>
                <article>
                    {% include 'includes/post_card.html' %}
                </article>
            {% endfor %}
        {% else %}
            <p>Постов в этой категории пока нет.</p>
        {% endif %}
</div>
{% endblock %}